<header class="profesor-header">
  <div class="brand">
    <img src="assets/utn-logo.png" alt="UTN" />
    <div class="title">
      <span>UTN — Autogestión</span>
      <small>Profesores</small>
    </div>
  </div>

  <nav class="nav">
    <!-- IZQUIERDA -->
    <div class="nav-left">
      <a
        routerLink="/dashboard/profesor"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: true }"
      >
        Inicio
      </a>
    </div>

    <!-- CENTRO -->
    <div class="nav-center">
      <mat-form-field appearance="outline" class="student-picker">
        <mat-label>Buscar alumno</mat-label>

        <input
          matInput
          [formControl]="alumnoCtrl"
          [matAutocomplete]="auto"
          placeholder="Apellido y nombre / Legajo / DNI"
        />

        <mat-autocomplete
          #auto="matAutocomplete"
          [displayWith]="displayStudent"
          (optionSelected)="onStudentSelected($event.option.value)"
        >
          <mat-option
            *ngFor="let s of (filteredStudents$ | async) ?? []"
            [value]="s"
          >
            <strong>{{ legajoOf(s) }}</strong> - {{ s.apellido }}, {{ s.nombre }}
            <span style="opacity: 0.65"> · DNI {{ dniOf(s) }}</span>
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </div>

    <!-- DERECHA -->
    <div class="nav-right">
      <a
        [routerLink]="['/dashboard/profesor/cargar-notas-examen', selectedStudentId]"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: false }"
        [class.disabled]="!selectedStudentId"
      >
        Cargar notas de examen
      </a>

      <a
        [routerLink]="['/dashboard/profesor/cargar-notas-cursada', selectedStudentId]"
        routerLinkActive="active"
        [routerLinkActiveOptions]="{ exact: false }"
        [class.disabled]="!selectedStudentId"
      >
        Cargar notas de cursada
      </a>

      <a class="salir" (click)="logout()" role="button" tabindex="0">Salir</a>
    </div>
  </nav>
</header>

<main class="profesor-main">
  <section class="main-surface">
    <router-outlet></router-outlet>
  </section>
</main>
